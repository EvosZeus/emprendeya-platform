<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Inscribirse - EmprendeYA</title>
  <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport" />
  <link rel="icon" href="../assets/img/emprendeya/favicon.ico" type="image/x-icon" />

  <!-- Bootstrap Icons CDN -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" />

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@300;400;500;600;700&display=swap"
    rel="stylesheet" />

  <!-- === CSS Files === -->
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css" />
  <!-- Tu CSS específico si aún lo necesitas -->
  <!-- Enlace al CSS Global -->
  <link rel="stylesheet" href="../assets/css/login.css
    <!DOCTYPE html>
    <html lang=" es">

  <head>
    <meta charset="UTF-8" />
    <!-- Mejor usar UTF-8 directamente -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Iniciar Sesión - EmprendeYA</title>
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport" />
    <!-- Asegúrate que la ruta al favicon sea correcta desde la ubicación de sign-in.html -->
    <link rel="icon" href="../assets/img/emprendeya/favicon.ico" type="image/x-icon" />

    <!-- Alternativa más fiable: Font Awesome CDN (v5 para compatibilidad fa/fas/fab) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
      crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Google Fonts (si WebFont no carga Public Sans) -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@300;400;500;600;700&display=swap"
      rel="stylesheet" />

    <!-- CSS Files -->
    <!-- Asegúrate que estas rutas sean correctas -->
    <link rel="stylesheet" href="../assets/css/bootstrap.min.css" />

    <link rel="stylesheet" href="../assets/css/emprendeya-2.css" />
    <!-- Tu CSS personalizado principal -->
    <link rel="stylesheet" href="styles.css" />
  </head>

<body>
  <!-- Aplicar flexbox aquí para centrar -->

  <div class="container">
    <div class="row justify-content-center">
      <div class="col-xxl-10 col-xl-10 col-lg-12">
        <div class="card card-raised shadow-10 mt-5 mt-xl-10 mb-4">
          <div class="row g-0">
            <div class="col-lg-5 col-md-6">
              <div class="card-body p-5">
                <!-- Auth header with logo image-->
                <div class="text-center">
                  <a class="d-inline-block mb-3" href="../index.html">
                    <!-- No necesita flex si es solo el logo -->
                    <img src="../assets/img/emprendeya/logo_dark.png" alt="EmprendeYA" height="50" />
                    <!-- Ajusta altura si es necesario -->
                  </a>

                  <p class="text-muted small">
                    Accede a tu cuenta para continuar
                  </p>
                </div>
                <!-- Botones Sociales -->
                <div class="d-grid gap-2 mb-4">
                  <!-- Reducido gap -->
                  <button class="btn btn-light d-flex align-items-center justify-content-center border py-2 fw-medium">
                    <i class="fab fa-google text-danger me-2"></i>Continuar con Google
                  </button>

                </div>

                <!-- Separador -->
                <div class="separator-line"></div>

                <!-- Login submission form -->
                <form id="loginForm" class="mb-5" onsubmit="loginUser(event)">
                  <div class="mb-4">
                    <label class="form-label fw-semibold small" for="email">Correo electrónico</label>
                    <div class="input-group">
                      <span class="input-group-text border-end-0">
                        <i class="fas fa-at text-secondary fa-fw"></i>
                      </span>
                      <input class="form-control" id="email" name="email" type="email" placeholder="nombre@ejemplo.com"
                        required />
                    </div>
                  </div>

                  <div class="mb-4">
                    <label class="form-label fw-semibold small" for="password">Contraseña</label>
                    <div class="input-group">
                      <span class="input-group-text border-end-0">
                        <i class="fas fa-lock text-secondary fa-fw"></i>
                      </span>
                      <input class="form-control" id="password" name="password" type="password" placeholder="Contraseña"
                        required />
                      <button class="btn btn-outline-secondary border-start-0" type="button" id="togglePassword">
                        <i class="fas fa-eye fa-fw"></i>
                      </button>
                    </div>
                  </div>

                  <div class="row mb-3 align-items-center">
                    <div class="col">
                      <div class="form-check">
                        <input class="form-check-input" id="remember" type="checkbox" />
                        <label class="form-check-label small" for="remember">Recordarme</label>
                      </div>
                    </div>
                    <div class="col-auto">
                      <a href="#" class="text-primary small text-decoration-none">¿Olvidaste tu contraseña?</a>
                    </div>
                  </div>

                  <div class="mb-4">
                    <button type="submit" class="btn btn-primary">Iniciar Sesión</button>
                  </div>

                  <div class="text-center small">
                    <p class="mb-0 text-muted">
                      ¿No tienes una cuenta?
                      <a href="sign-up.html" class="text-primary fw-bold text-decoration-none">Regístrate aquí</a>
                    </p>
                  </div>
                </form>
                <!-- Auth card message-->
              </div>
            </div>
            <!-- Background image column using inline CSS-->
            <div class="col-lg-7 col-md-6 d-none d-md-block" style="
                      background-image: url('../assets/img/carrusel/carousel-1.jpeg');
                      background-size: cover;
                      background-position: center;
                      background-repeat: no-repeat;
                      height: 100vh;
                    "></div>
          </div>
        </div>
        <!-- Footer simple -->
        <div class="mt-4 text-center text-muted small">
          <div class="d-flex justify-content-center align-items-center flex-wrap gap-2 gap-md-3">
            <!-- Asegúrate que el enlace es correcto -->
            <a href="http://www.emprendeya.com" target="_blank" class="text-muted text-primary">EmprendeYA © 2025</a>
            <span class="d-none d-md-inline">|</span>
            <a href="#" class="text-muted text-primary">Políticas de privacidad</a>
            <a href="#" class="text-muted text-primary">Términos de uso</a>
            <a href="#" class="text-muted text-primary">Ayuda</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!--   Core JS Files   -->

  <script src="../assets/js/core/jquery-3.7.1.min.js"></script>
  <script src="../assets/js/core/popper.min.js"></script>
  <script src="../assets/js/core/bootstrap.bundle.min.js"></script>

  <!-- JS Personalizado -->
  <script src="../assets/js/emprendeya-2.js"></script>
  <script src="../assets/js/setting-emprendeya.js"></script>
  <script src="../assets/js/emprendeya.js"></script>

  <script>
    // Función para mostrar/ocultar contraseña (ya corregida para Font Awesome 5)
    const togglePassword = document.getElementById("togglePassword");
    if (togglePassword) {
      togglePassword.addEventListener("click", function () {
        const passwordInput = document.getElementById("password");
        const icon = this.querySelector("i");

        if (passwordInput.type === "password") {
          passwordInput.type = "text";
          icon.classList.remove("fa-eye");
          icon.classList.add("fa-eye-slash");
        } else {
          passwordInput.type = "password";
          icon.classList.remove("fa-eye-slash");
          icon.classList.add("fa-eye");
        }
      });
    }
  </script>

  <!-- Script para enviar datos de inicio de sesión -->
  <script>
    document.getElementById("togglePassword").addEventListener("click", function () {
      const passwordInput = document.getElementById("password");
      const icon = this.querySelector("i");
      if (passwordInput.type === "password") {
        passwordInput.type = "text";
        icon.classList.remove("fa-eye");
        icon.classList.add("fa-eye-slash");
      } else {
        passwordInput.type = "password";
        icon.classList.remove("fa-eye-slash");
        icon.classList.add("fa-eye");
      }
    });

    async function loginUser(event) {
      event.preventDefault();

      const formData = new FormData(document.getElementById("loginForm"));

      try {
        const response = await fetch("../backend-php/login.php", {
          method: "POST",
          body: formData,
        });

        const result = await response.text();
        if (result === "Inicio de sesión exitoso.") {
          window.location.href = "../index.html"; // Redirigir a la página principal
        } else {
          alert(result);
        }
      } catch (error) {
        alert("Error al iniciar sesión. Inténtalo de nuevo.");
        console.error(error);
      }
    }
  </script>
</body>

</html>
</head>

</html>